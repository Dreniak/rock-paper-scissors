<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script>
    var scorePlayer = 0;
    var scoreComputer = 0;
    var choices = ['rock', 'paper', 'scissors'];

    function computerPlay () {
      var rdnNum = Math.floor(Math.random() * 3 + 1); // 1R, 2P, 3S
      return rdnNum;
    }

    function playerPlay () {
      var choice = prompt("Rock, paper, scissors!?");
      if (choice == undefined) {return "dksnkn";}
      var n = 0;
      while (n < 3) {
        if (choice.toLowerCase() == choices[n]) {
          return n + 1;
        } else {n++;}
      }
    }

    function playRound (playerSelection, computerSelection, n) {
      console.log(`Player move: ${choices[playerSelection - 1]} || Machine move: ${choices[computerSelection - 1]}`);
      switch (true) {
        case playerSelection > computerSelection && !(playerSelection == 3 && computerSelection == 1) || playerSelection == 1 && computerSelection == 3:
          scorePlayer++;
          return (`You win! ${choices[playerSelection - 1]} beats ${choices[computerSelection - 1]}`);
        break;
        case playerSelection < computerSelection && !(playerSelection == 1 && computerSelection == 3) || playerSelection == 3 && computerSelection == 1:
          scoreComputer++;
          return (`You lose! ${choices[computerSelection - 1]} beats ${choices[playerSelection - 1]}`);
        break;
        case playerSelection == computerSelection:
          scorePlayer++;
          scoreComputer++;
          return ("It's a tie!");
        break;
        default:
          console.log(n);
          n = 0;
          console.log(n);
          return "Insert a valid move to play! Restarting the match...";
      }
    }

    function game () {
      for (n = 0; n < 5; n ++) {
        console.log(`${n + 1}st Round:`)
        console.log(playRound(playerPlay(), computerPlay(), n));
      }
      console.log(scorePlayer, scoreComputer);
      if (scorePlayer > scoreComputer) {
        return "Congrats! You won the 5 rounds match!";
      } else if (scorePlayer < scoreComputer) {
        return "Too bad! you lost the 5 rounds match, wanna try again?"
      } else if (scorePlayer == scoreComputer && (scorePlayer != 0 && scoreComputer != 0)) {
        return "So close! It's a tie!";
      } else {return "Hey, man! Do you need some help over there?";}
    }

    console.log(game())
  </script>
</body>
</html>
